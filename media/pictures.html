---
title: Gallery
layout: post

noHeader: true
permalink: /media/pictures/
---

<style>
  .gallery-img {
    width: 220px;
    height: 120px;
    border-radius: 6px;
    margin: 8px;
    cursor: pointer;
    transition: 0.3s all ease-in-out;
  }

  .gallery-img.open {
    width: 100%;
    height: unset;
    z-index: 99;
    position: absolute;
  }

  .images {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
  }
  a.button {
    text-align: center;
    margin: 0 auto;
  }
  .content {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    text-transform: uppercase;
    text-align: center;
    color: var(--dark-grey);
    font-family: "Roboto";
    margin-top: 128px;
  }
</style>

<div class="content">
  <div class="images"></div>
  <a class="button primary center">Load More</a>
</div>

<script>
  const IMAGES = "{% for image in site.static_files %}{% if image.path contains 'gallery/' %}{{ site.baseurl }}{{ image.path }} {% endif %}{% endfor %}".split(
    " "
  );

  let total = 0;
  function prepareImages(step) {
    let imageDOM = IMAGES.slice(total, total + step);
    total += step;

    return imageDOM.map(url =>
      h("img", { src: url, class: "gallery-img" }, [])
    );
  }

  function appendNodes(container, nodes) {
    for (let i = 0; i < nodes.length; i++) {
      container.appendChild(nodes[i]);
    }
  }

  const imagesDOM = document.querySelector(".images");

  // We'll load 10 images initally, then load more when they press the big blue button
  appendNodes(imagesDOM, prepareImages(10));

  // Pull image up
  imagesDOM.addEventListener("click", function(e) {
    if (e.target && e.target.closest("img")) {
      // Remove open on all other images open state
      Array.from(imagesDOM.children).forEach(child => {
        child.classList.remove("open");
      });
      e.target.classList.toggle("open");
    }
  });

  document
    .querySelector("a.button.primary")
    .addEventListener("click", function() {
      appendNodes(imagesDOM, prepareImages(10));
    });
</script>
